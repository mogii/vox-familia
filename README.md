# vox-familia

> *The Voice of the Family. A personalized AI companion for my loved ones.*

[](https://opensource.org/licenses/MIT)

## About The Project

`vox-familia` æ˜¯ä¸€ä¸ªå……æ»¡ä¸ªäººæƒ…æ„Ÿçš„AIé¡¹ç›®ï¼Œæ—¨åœ¨ä¸ºæˆ‘çš„å®¶åº­æˆå‘˜â€”â€”æˆ‘çš„å­©å­ã€æˆ‘çš„çˆ¶æ¯ï¼Œæˆ‘è‡ªå·±â€”â€”åˆ›å»ºä¸€ä¸ªæ— å±å¹•ã€çº¯è¯­éŸ³çš„AIäº’åŠ¨ä¼´ä¾£ã€‚

ä¼ ç»Ÿçš„æ™ºèƒ½åŠ©æ‰‹åŠŸèƒ½å¼ºå¤§ï¼Œä½†ç¼ºä¹ä¸ªæ€§ä¸è®°å¿†ã€‚æœ¬é¡¹ç›®çš„æ ¸å¿ƒæ˜¯æ„å»ºä¸€ä¸ª**å¤šç”¨æˆ·ç”»åƒï¼ˆMulti-Profileï¼‰ç³»ç»Ÿ**ï¼Œè®©AIèƒ½å¤Ÿä»¥ä¸åŒçš„èº«ä»½ã€æ€§æ ¼å’ŒçŸ¥è¯†å‚¨å¤‡ä¸ç‰¹å®šå®¶åº­æˆå‘˜äº¤æµã€‚å®ƒä¸ä»…èƒ½å›ç­”é—®é¢˜ï¼Œæ›´èƒ½â€œè®°ä½â€æ¯ä¸ªäººçš„å–œå¥½ï¼Œäº†è§£æˆ‘å„¿å­æœ€çˆ±çš„ç»˜æœ¬ï¼Œç†Ÿæ‚‰æˆ‘çˆ¶æ¯æ„Ÿå…´è¶£çš„è¯é¢˜ï¼Œæˆä¸ºä¸€ä¸ªçœŸæ­£æ‡‚æˆ‘ä»¬çš„å®¶åº­æˆå‘˜ã€‚

## Core Features

  * **ğŸ‘¥ å¤šç”¨æˆ·ç”»åƒç³»ç»Ÿ (Multi-Profile System)**: å¯è½»æ¾åˆ‡æ¢ç”¨æˆ·èº«ä»½ï¼ˆå¦‚`son`, `parent`, `default`ï¼‰ï¼Œæ¯ä¸ªèº«ä»½æ‹¥æœ‰ç‹¬ç«‹çš„æ€§æ ¼ã€çŸ¥è¯†åº“å’Œè®°å¿†ã€‚
  * **ğŸ§  ä¸ªæ€§åŒ–çŸ¥è¯†åº“ (Personalized Knowledge Base)**: åŸºäº**æ£€ç´¢å¢å¼ºç”Ÿæˆ (RAG)** æŠ€æœ¯ï¼ŒAIèƒ½å¤Ÿæ·±å…¥ç†è§£å¹¶å›ç­”å…³äºç‰¹å®šç»˜æœ¬ã€åŠ¨ç”»æˆ–å®¶åº­äº‹ä»¶çš„æé—®ã€‚
  * **ğŸ—£ï¸ åŠ¨æ€é•¿æœŸè®°å¿† (Dynamic Long-Term Memory)**: AIèƒ½ä»å¯¹è¯ä¸­å­¦ä¹ å’Œæå–å…³é”®ä¿¡æ¯ï¼ˆå¦‚â€œæˆ‘ä»Šå¤©æœ€å–œæ¬¢çš„æ•…äº‹æ˜¯å°ç†Šçš„å†’é™©â€ï¼‰ï¼Œå¹¶å°†å…¶å­˜å…¥é•¿æœŸè®°å¿†ï¼Œè®©æœªæ¥çš„å¯¹è¯æ›´å…·æƒ…å¢ƒæ„ŸçŸ¥èƒ½åŠ›ã€‚
  * **ğŸ™ï¸ çº¯è¯­éŸ³äº¤äº’ (Voice-First Interface)**: æ”¯æŒâ€œæŒ‰é”®é€šè¯ (Push-to-Talk)â€æˆ–â€œå”¤é†’è¯â€æ¨¡å¼ï¼Œå®ç°è‡ªç„¶ã€æ— å±å¹•çš„äº¤æµä½“éªŒã€‚
  * **â˜ï¸ APIé©±åŠ¨**: æ ¸å¿ƒAIèƒ½åŠ›ç”±å¼ºå¤§çš„å¤§è¯­è¨€æ¨¡å‹ï¼ˆå¦‚ Google Geminiï¼‰å’Œè¯­éŸ³æ¨¡å‹ï¼ˆå¦‚ OpenAI Whisperï¼‰é©±åŠ¨ã€‚
  * \*\* portability çµæ´»çš„ç¡¬ä»¶éƒ¨ç½²\*\*: é¡¹ç›®è®¾è®¡æ”¯æŒå¤šç§ç¡¬ä»¶æ–¹æ¡ˆï¼Œä»ç®€å•çš„Mac + è“ç‰™è€³æœºï¼Œåˆ°ç‹¬ç«‹çš„æ ‘è“æ´¾ï¼Œå†åˆ°å®šåˆ¶çš„ESP32æ— çº¿ç»ˆç«¯ã€‚

## Architecture

é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œå°†è¯­éŸ³I/Oä¸AIæ ¸å¿ƒé€»è¾‘åˆ†ç¦»ã€‚

```mermaid
graph TD
    subgraph "User Interaction"
        A[User Speaks] -->|Hardware: Mic| B(Audio Stream)
    end

    subgraph "Host Application (Mac / Raspberry Pi)"
        B --> C{"Speech-to-Text API (OpenAI Whisper)"}
        C -->|User Text| D(Core Logic)
        D -->|User Query & Profile| E["Knowledge Base (RAG)<br>- Static: Books, Movies<br>- Dynamic: Memory Log"]
        E -->|Relevant Context| D
        subgraph "Gemini API Call"
            D --> F["LLM Prompt<br>- System Prompt (by Profile)<br>- Chat History<br>- User Query<br>- RAG Context"]
            F --> G(AI Response Text)
        end
        G --> H{Text-to-Speech API}
        H -->|Response Audio| I(Audio Output)
    end

    subgraph "User Interaction"
        I -->|Hardware: Speaker| J[User Hears Response]
    end
```

## Technology Stack

  * **Language**: Python 3.9+
  * **LLM**: Google Gemini API
  * **Speech-to-Text**: OpenAI Whisper API
  * **Text-to-Speech**: OpenAI TTS API (or other provider)
  * **Vector Database (for RAG)**: ChromaDB (local) or Pinecone (cloud)
  * **Hardware Prototypes**:
      * macOS + Bluetooth Headset
      * Raspberry Pi 4B + USB Mic/Speaker
      * ESP32 (as a wireless audio satellite)

## Getting Started

è¦å¯åŠ¨å¹¶è¿è¡Œæ­¤é¡¹ç›®ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚

### Prerequisites

  * Python 3.9 or higher
  * Google AI API Key
  * OpenAI API Key

### Installation

1.  **å…‹éš†ä»“åº“**
    ```sh
    git clone https://github.com/your_username/vox-familia.git
    cd vox-familia
    ```
2.  **åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ**
    ```sh
    python3 -m venv venv
    source venv/bin/activate
    ```
3.  **å®‰è£…ä¾èµ–**
    ```sh
    pip install -r requirements.txt
    ```
4.  **é…ç½®ç¯å¢ƒå˜é‡**
      * å°† `.env.example` æ–‡ä»¶å¤åˆ¶ä¸º `.env`
      * åœ¨ `.env` æ–‡ä»¶ä¸­å¡«å…¥æ‚¨çš„APIå¯†é’¥ã€‚
    <!-- end list -->
    ```.env
    GOOGLE_API_KEY="YOUR_GOOGLE_API_KEY"
    OPENAI_API_KEY="YOUR_OPENAI_API_KEY"
    ```

### Running the Application

```sh
python main.py --profile son
```

## Roadmap

  * [x] **Phase 1 - MVP**: åœ¨macOSä¸Šä½¿ç”¨è“ç‰™è€³æœºä½œä¸ºI/Oè®¾å¤‡ï¼Œå®ç°æ ¸å¿ƒå¯¹è¯é€»è¾‘ã€‚
  * [ ] **Phase 2 - Dedicated Device**: å°†åº”ç”¨è¿ç§»åˆ°å¸¦æœ‰UPS HATçš„æ ‘è“æ´¾ä¸Šï¼Œå®ç°ç¨³å®šå¯é çš„ç‹¬ç«‹è¿è¡Œã€‚
  * [ ] **Phase 3 - Custom Hardware**: å¼€å‘åŸºäºESP32çš„æ— çº¿éŸ³é¢‘ç»ˆç«¯ï¼Œæ‰“é€ ç»ˆæçš„å®šåˆ¶ç¡¬ä»¶å½¢æ€ã€‚
  * [ ] **Future - Local Models**: æ¢ç´¢ä½¿ç”¨æœ¬åœ°åŒ–çš„STT/TTSæ¨¡å‹ï¼Œä»¥å¢å¼ºéšç§å¹¶å®ç°ç¦»çº¿åŠŸèƒ½ã€‚

## License

This project is licensed under the MIT License. See the `LICENSE` file for details.

## Acknowledgments

  * A big thank you to the teams behind Google Gemini and OpenAI.
  * To my family, for being the inspiration for this project.
